#Set loot tables for mob variants
#Cat
data merge entity @e[type=ocelot,tag=!head_updated,nbt={CatType:0},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/cat/ocelot",Tags:["head_updated"]}
data merge entity @e[type=ocelot,tag=!head_updated,nbt={CatType:1},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/cat/black_cat",Tags:["head_updated"]}
data merge entity @e[type=ocelot,tag=!head_updated,nbt={CatType:2},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/cat/ginger_cat",Tags:["head_updated"]}
data merge entity @e[type=ocelot,tag=!head_updated,nbt={CatType:3},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/cat/siamese_cat",Tags:["head_updated"]}
#Creeper
data merge entity @e[type=creeper,tag=!head_updated,nbt={powered:1b},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/creeper/charged_creeper",Tags:["head_updated"]}
#Horse
data merge entity @e[type=horse,tag=!head_updated,nbt={Variant:0},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/horse/white_horse",Tags:["head_updated"]}
data merge entity @e[type=horse,tag=!head_updated,nbt={Variant:1},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/horse/golden_horse",Tags:["head_updated"]}
data merge entity @e[type=horse,tag=!head_updated,nbt={Variant:2},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/horse/chestnut_horse",Tags:["head_updated"]}
data merge entity @e[type=horse,tag=!head_updated,nbt={Variant:3},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/horse/brown_horse",Tags:["head_updated"]}
data merge entity @e[type=horse,tag=!head_updated,nbt={Variant:4},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/horse/black_horse",Tags:["head_updated"]}
data merge entity @e[type=horse,tag=!head_updated,nbt={Variant:5},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/horse/gray_horse",Tags:["head_updated"]}
data merge entity @e[type=horse,tag=!head_updated,nbt={Variant:6},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/horse/dark_horse",Tags:["head_updated"]}
#Llama
data merge entity @e[type=llama,tag=!head_updated,nbt={Variant:0},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/llama/creamy_llama",Tags:["head_updated"]}
data merge entity @e[type=llama,tag=!head_updated,nbt={Variant:1},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/llama/white_llama",Tags:["head_updated"]}
data merge entity @e[type=llama,tag=!head_updated,nbt={Variant:2},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/llama/brown_llama",Tags:["head_updated"]}
data merge entity @e[type=llama,tag=!head_updated,nbt={Variant:3},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/llama/gray_llama",Tags:["head_updated"]}
#Parrot
data merge entity @e[type=parrot,tag=!head_updated,nbt={Variant:0},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/parrot/red_parrot",Tags:["head_updated"]}
data merge entity @e[type=parrot,tag=!head_updated,nbt={Variant:1},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/parrot/blue_parrot",Tags:["head_updated"]}
data merge entity @e[type=parrot,tag=!head_updated,nbt={Variant:2},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/parrot/green_parrot",Tags:["head_updated"]}
data merge entity @e[type=parrot,tag=!head_updated,nbt={Variant:3},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/parrot/cyan_parrot",Tags:["head_updated"]}
data merge entity @e[type=parrot,tag=!head_updated,nbt={Variant:4},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/parrot/gray_parrot",Tags:["head_updated"]}
#Rabbit
data merge entity @e[type=rabbit,tag=!head_updated,nbt={CustomName:"{\"text\":\"Toast\"}"},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/rabbit/toast_rabbit",Tags:["head_updated"]}
data merge entity @e[type=rabbit,tag=!head_updated,nbt={RabbitType:0},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/rabbit/brown_rabbit",Tags:["head_updated"]}
data merge entity @e[type=rabbit,tag=!head_updated,nbt={RabbitType:1},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/rabbit/white_rabbit",Tags:["head_updated"]}
data merge entity @e[type=rabbit,tag=!head_updated,nbt={RabbitType:2},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/rabbit/black_rabbit",Tags:["head_updated"]}
data merge entity @e[type=rabbit,tag=!head_updated,nbt={RabbitType:3},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/rabbit/splotched_rabbit",Tags:["head_updated"]}
data merge entity @e[type=rabbit,tag=!head_updated,nbt={RabbitType:4},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/rabbit/gold_rabbit",Tags:["head_updated"]}
data merge entity @e[type=rabbit,tag=!head_updated,nbt={RabbitType:5},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/rabbit/pepper_rabbit",Tags:["head_updated"]}
data merge entity @e[type=rabbit,tag=!head_updated,nbt={RabbitType:99},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/rabbit/killer_bunny",Tags:["head_updated"]}
#Sheep
data merge entity @e[type=sheep,tag=!head_updated,nbt={CustomName:"{\"text\":\"jeb_\"}"},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/sheep/jeb_sheep",Tags:["head_updated"]}
#Villager
data merge entity @e[type=villager,tag=!head_updated,nbt={Profession:0},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/villager/farmer",Tags:["head_updated"]}
data merge entity @e[type=villager,tag=!head_updated,nbt={Profession:1},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/villager/librarian",Tags:["head_updated"]}
data merge entity @e[type=villager,tag=!head_updated,nbt={Profession:2},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/villager/cleric",Tags:["head_updated"]}
data merge entity @e[type=villager,tag=!head_updated,nbt={Profession:3},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/villager/smith",Tags:["head_updated"]}
data merge entity @e[type=villager,tag=!head_updated,nbt={Profession:4},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/villager/butcher",Tags:["head_updated"]}
data merge entity @e[type=villager,tag=!head_updated,nbt={Profession:5},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/villager/nitwit",Tags:["head_updated"]}
#Wither
data merge entity @e[type=wither,tag=!head_updated,sort=nearest,limit=1] {DeathLootTable:"koyc:entities/wither/wither",Tags:["head_updated"]}
#Zombie Villager
data merge entity @e[type=zombie_villager,tag=!head_updated,nbt={Profession:0},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/zombie_villager/zombie_farmer",Tags:["head_updated"]}
data merge entity @e[type=zombie_villager,tag=!head_updated,nbt={Profession:1},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/zombie_villager/zombie_librarian",Tags:["head_updated"]}
data merge entity @e[type=zombie_villager,tag=!head_updated,nbt={Profession:2},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/zombie_villager/zombie_cleric",Tags:["head_updated"]}
data merge entity @e[type=zombie_villager,tag=!head_updated,nbt={Profession:3},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/zombie_villager/zombie_smith",Tags:["head_updated"]}
data merge entity @e[type=zombie_villager,tag=!head_updated,nbt={Profession:4},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/zombie_villager/zombie_butcher",Tags:["head_updated"]}
data merge entity @e[type=zombie_villager,tag=!head_updated,nbt={Profession:5},sort=nearest,limit=1] {DeathLootTable:"koyc:entities/zombie_villager/zombie_nitwit",Tags:["head_updated"]}

#Give mined custom heads back their title
#Cat
execute as @e[type=item,tag=!head_updated,nbt={Item:{id:"minecraft:player_head",tag:{SkullOwner:{Id:"82cf1e27-3b94-4f81-9f4a-d79f4b4b0a2a"}}}}] run data merge entity @s {Item:{tag:{display: {Name: "{\"text\":\"Black Cat Head\",\"italic\":false}"}}}}
execute as @e[type=item,tag=!head_updated,nbt={Item:{id:"minecraft:player_head",tag:{SkullOwner:{Id:"4b386bcf-a8e6-4461-b738-d5427bae49ad"}}}}] run data merge entity @s {Item:{tag:{display: {Name: "{\"text\":\"Ginger Cat Head\",\"italic\":false}"}}}}
execute as @e[type=item,tag=!head_updated,nbt={Item:{id:"minecraft:player_head",tag:{SkullOwner:{Id:"664dd492-3fcd-443b-9e61-4c7ebd9e4e10"}}}}] run data merge entity @s {Item:{tag:{display: {Name: "{\"text\":\"Ocelot Head\",\"italic\":false}"}}}}
execute as @e[type=item,tag=!head_updated,nbt={Item:{id:"minecraft:player_head",tag:{SkullOwner:{Id:"1775ad8a-06ac-4d62-a21b-593dcfcd2192"}}}}] run data merge entity @s {Item:{tag:{display: {Name: "{\"text\":\"Siamese Cat Head\",\"italic\":false}"}}}}
#Creeper
execute as @e[type=item,tag=!head_updated,nbt={Item:{id:"minecraft:player_head",tag:{SkullOwner:{Id:"f9318e11-a0c7-4cfd-85c9-2b2852e1a8b0"}}}}] run data merge entity @s {Item:{tag:{display: {Name: "{\"text\":\"Charged Creeper Head\",\"italic\":false}"}}}}
#Horse
#Husk
execute as @e[type=item,tag=!head_updated,nbt={Item:{id:"minecraft:player_head",tag:{SkullOwner:{Id:"1abe147b-ea7a-470c-8e74-16ce8fed6cb6"}}}}] run data merge entity @s {Item:{tag:{display: {Name: "{\"text\":\"Husk Head\",\"italic\":false}"}}}}
#Llama
#Parrot
#Rabbit
#Sheep
#Villager
#Wither
#Zombie Villager

execute as @e[type=item,tag=!head_updated,nbt={Item:{id:"minecraft:player_head"}}] run tag @s add head_updated